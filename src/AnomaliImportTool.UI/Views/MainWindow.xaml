<Window x:Class="AnomaliImportTool.UI.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:win2d="using:Win2D.UI.Xaml"
        Title="{StaticResource ApplicationTitle}"
        MinWidth="1200"
        MinHeight="800"
        WindowState="Normal">

    <!-- Main Window Grid Layout -->
    <Grid Background="{StaticResource BackgroundLightBrush}">
        
        <!-- Win2D Canvas for GPU-Accelerated Graphics -->
        <win2d:CanvasControl x:Name="CanvasControl"
                            Background="Transparent"
                            Draw="CanvasControl_Draw"
                            CreateResources="CanvasControl_CreateResources"
                            Panel.ZIndex="0"/>
        
        <!-- Main Content Area -->
        <Grid Panel.ZIndex="1">
            <Grid.RowDefinitions>
                <!-- Title Bar Area -->
                <RowDefinition Height="Auto"/>
                <!-- Main Content -->
                <RowDefinition Height="*"/>
                <!-- Status Bar -->
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Custom Title Bar -->
            <Border Grid.Row="0" 
                    Background="{StaticResource CorporateBlueGradientBrush}"
                    Height="48"
                    x:Name="TitleBarContainer">
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>  <!-- Icon -->
                        <ColumnDefinition Width="*"/>     <!-- Title -->
                        <ColumnDefinition Width="Auto"/>  <!-- Window Controls -->
                    </Grid.ColumnDefinitions>
                    
                    <!-- Application Icon and Title -->
                    <StackPanel Grid.Column="0" 
                               Orientation="Horizontal" 
                               VerticalAlignment="Center"
                               Margin="{StaticResource Spacing16}">
                        
                        <Image Source="ms-appx:///Assets/Ico/Application.ico" 
                               Width="24" 
                               Height="24"
                               Margin="0,0,8,0"/>
                        
                        <TextBlock Text="{StaticResource ApplicationTitle}"
                                  Style="{StaticResource BodyLargeTextStyle}"
                                  Foreground="{StaticResource TextOnDarkBrush}"
                                  VerticalAlignment="Center"/>
                        
                        <TextBlock Text="Living Workspace"
                                  Style="{StaticResource CaptionTextStyle}" 
                                  Foreground="{StaticResource TextOnDarkBrush}"
                                  Opacity="0.8"
                                  Margin="{StaticResource Spacing8}"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <!-- Mode Indicator -->
                    <Border Grid.Column="1" 
                           Background="{StaticResource BackgroundCardBrush}"
                           CornerRadius="{StaticResource CornerRadiusSmall}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Padding="{StaticResource Spacing8}"
                           x:Name="ModeIndicator">
                        
                        <TextBlock x:Name="ModeIndicatorText"
                                  Text="Dashboard Mode"
                                  Style="{StaticResource CaptionTextStyle}"
                                  Foreground="{StaticResource CorporateBlueBrush}"/>
                    </Border>
                    
                    <!-- Window Control Buttons -->
                    <StackPanel Grid.Column="2" 
                               Orientation="Horizontal"
                               VerticalAlignment="Center">
                        
                        <Button x:Name="MinimizeButton"
                               Content="&#xE921;"
                               FontFamily="Segoe MDL2 Assets"
                               Style="{StaticResource SecondaryButtonStyle}"
                               Width="46"
                               Height="32"
                               Click="MinimizeButton_Click"
                               ToolTipService.ToolTip="Minimize"/>
                        
                        <Button x:Name="MaximizeRestoreButton"
                               Content="&#xE922;"
                               FontFamily="Segoe MDL2 Assets"
                               Style="{StaticResource SecondaryButtonStyle}"
                               Width="46"
                               Height="32"
                               Click="MaximizeRestoreButton_Click"
                               ToolTipService.ToolTip="Maximize"/>
                        
                        <Button x:Name="CloseButton"
                               Content="&#xE8BB;"
                               FontFamily="Segoe MDL2 Assets"
                               Background="{StaticResource CorporateRedBrush}"
                               Foreground="{StaticResource TextOnDarkBrush}"
                               Width="46"
                               Height="32"
                               Click="CloseButton_Click"
                               ToolTipService.ToolTip="Close"/>
                    </StackPanel>
                </Grid>
            </Border>
            
            <!-- Main Content Frame -->
            <Frame x:Name="MainContentFrame" 
                   Grid.Row="1"
                   Background="Transparent"
                   NavigationFailed="MainContentFrame_NavigationFailed">
                
                <!-- Loading Indicator -->
                <Frame.ContentTransitions>
                    <TransitionCollection>
                        <EntranceThemeTransition/>
                    </TransitionCollection>
                </Frame.ContentTransitions>
            </Frame>
            
            <!-- Status Bar -->
            <Border Grid.Row="2" 
                    Background="{StaticResource BackgroundMediumBrush}"
                    BorderBrush="{StaticResource BorderLightBrush}"
                    BorderThickness="0,1,0,0"
                    Height="28"
                    x:Name="StatusBarContainer">
                
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>      <!-- Status Text -->
                        <ColumnDefinition Width="Auto"/>   <!-- Progress -->
                        <ColumnDefinition Width="Auto"/>   <!-- Info -->
                    </Grid.ColumnDefinitions>
                    
                    <!-- Status Text -->
                    <TextBlock x:Name="StatusText"
                              Grid.Column="0"
                              Text="Ready - Living Workspace"
                              Style="{StaticResource CaptionTextStyle}"
                              VerticalAlignment="Center"
                              Margin="{StaticResource Spacing12}"/>
                    
                    <!-- Progress Ring (Hidden by default) -->
                    <ProgressRing x:Name="StatusProgressRing"
                                 Grid.Column="1"
                                 IsActive="False"
                                 Width="16"
                                 Height="16"
                                 Margin="{StaticResource Spacing8}"
                                 Visibility="Collapsed"/>
                    
                    <!-- Company Info -->
                    <TextBlock Grid.Column="2"
                              Text="{StaticResource CorporateTagline}"
                              Style="{StaticResource CaptionTextStyle}"
                              Opacity="0.7"
                              VerticalAlignment="Center"
                              Margin="{StaticResource Spacing12}"/>
                </Grid>
            </Border>
        </Grid>
        
        <!-- Accessibility Announcements -->
        <TextBlock x:Name="AccessibilityAnnouncer"
                  AutomationProperties.LiveSetting="Assertive"
                  Visibility="Collapsed"
                  AutomationProperties.AccessibilityView="Raw"/>
        
    </Grid>
</Window> 